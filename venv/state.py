from typing import TypedDict, Annotated, Optional
import operator

class AgentState(TypedDict):
    # The transaction data (ID, amount, country, etc.)
    transaction_data: dict
    # The reasoning generated by Gemini
    audit_report: Optional[str]
    # Whether the screener flagged it
    is_flagged: bool
    # To keep a running history of steps taken
    logs: Annotated[list[str], operator.add]